# census-data power bi dashboard

this `./reports` folder contains a powerbi source file (`census-data.pbix`), plus a [topojson file of census 2021 output areas](https://github.com/data-hamlets/census-data/blob/main/reports/lbth_oa21.topo.json) for plotting

the dashboard downloads census data from [nomis topic summaries](https://www.nomisweb.co.uk/sources/census_2021_ts) via api calls generated by stepping through the nomis query constructor: 

* _Geography_ currently we are using 2021 output areas (where possible), these are the smallest unit of aggregation, and can be fairly accurately assigned to wards, although there are many [OAs that don't fit perfectly](https://nbviewer.org/github/data-hamlets/census-data/blob/main/notebooks/0.2-lbth-oa-ward-overlaps.ipynb). 
* _Percent_ this is good to use as it normalises comparisons between areas
* _Format_ choose Nomis API as this gives tabulated `data.csv` url you can copy to power bi when accessing nomis data via the `get data -> web` download option

---

# wednesday-workshop

## branding  
* using a corporate background

## mapping  
* enabling *shape map* vis (choropleth)  
* about [census output areas](https://www.ons.gov.uk/methodology/geography/ukgeographies/censusgeographies/census2021geographies#output-areas-oas)  
* adding [custom map geography](https://github.com/data-hamlets/census-data/blob/main/reports/lbth_oa21.topo.json)  

## census data  
* getting data from [nomis](https://www.nomisweb.co.uk/sources/census_2021)  
  * example of [TS067 - highest level of qualification](https://www.nomisweb.co.uk/datasets/c2021ts067)  

## link the data to the map  
* link the data to the map by location (`GEOGRAPHY_CODE`) and colour saturation (`OBS_VALUE`)  
* add a *slicer* control  
* what about wards?  
  * match oas to wards using a [lookup](https://data-hamlets.github.io/open-data-tower-hamlets/datasets/census-2021-lookups/) 
  * add a *slicer* control for wards
